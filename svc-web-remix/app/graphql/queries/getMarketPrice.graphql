query getMarketPrice (
  $primaryCurrency: String!
  $secondaryCurrency: String!
) {
  binance_us: market(where: { id: { _eq: "binance.us" }}) {
    market_prices(where:{
      asset_symbol:{ _eq: $primaryCurrency },
      currency:{ _eq: $secondaryCurrency }
    }, order_by: {
      timestamp: desc
    }){
      price
      timestamp
    }
  }
  kiwi_coin: market(where:{ id: { _eq: "kiwi-coin.com"  }}) {
    market_prices(where: {
      asset_symbol:{ _eq: $primaryCurrency },
      currency:{ _eq: $secondaryCurrency }
    }, order_by: {
      timestamp: desc
    }){
      price
      timestamp
    }
  }
  dasset: market(where:{ id: { _eq: "dassetx.com"  }}) {
    market_prices(where: {
      asset_symbol:{ _eq: $primaryCurrency },
      currency:{ _eq: $secondaryCurrency }
    }, order_by: {
      timestamp: desc
    }){
      price
      timestamp
    }
  }
  kraken: market(where:{ id: { _eq: "kraken.com"  }}) {
    market_prices(where: {
      asset_symbol:{ _eq: $primaryCurrency },
      currency:{ _eq: $secondaryCurrency }
    }, order_by: {
      timestamp: desc
    }){
      price
      timestamp
    }
  }
  independent_reserve_aud: market(where:{ id: { _eq: "independentreserve.com"  }}) {
    market_prices(where: {
      source_currency: { _eq: "AUD" },
      asset_symbol:{ _eq: $primaryCurrency },
      currency:{ _eq: $secondaryCurrency }
    }, order_by: {
      timestamp: desc
    }){
      price
      timestamp
    }
  }
  independent_reserve_nzd: market(where:{ id: { _eq: "independentreserve.com"  }}) {
    market_prices(where: {
      source_currency: { _eq: "NZD" },
      asset_symbol:{ _eq: $primaryCurrency },
      currency:{ _eq: $secondaryCurrency }
    }, order_by: {
      timestamp: desc
    }){
      price
      timestamp
    }
  }
}

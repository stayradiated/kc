- table:
    schema: kc
    name: dca_order
  object_relationships:
  - name: exchange
    using:
      foreign_key_constraint_on: exchange_uid
  - name: market
    using:
      foreign_key_constraint_on: market_uid
  - name: user
    using:
      foreign_key_constraint_on: user_uid
  array_relationships:
  - name: dca_order_histories
    using:
      foreign_key_constraint_on:
        column: dca_order_uid
        table:
          schema: kc
          name: dca_order_history
  select_permissions:
  - role: user
    permission:
      columns:
      - daily_average
      - exchange_uid
      - market_offset
      - market_uid
      - max_amount
      - max_price
      - min_amount
      - min_price
      - start_at
      - uid
      - user_uid
      filter:
        user_uid:
          _eq: X-Hasura-User-Id
  update_permissions:
  - role: user
    permission:
      columns:
      - daily_average
      - market_offset
      - market_uid
      - max_amount
      - max_price
      - min_amount
      - min_price
      - start_at
      - updated_at
      filter:
        user_uid:
          _eq: X-Hasura-User-Id
      check:
        user_uid:
          _eq: X-Hasura-User-Id
  delete_permissions:
  - role: user
    permission:
      filter:
        user_uid:
          _eq: X-Hasura-User-Id
- table:
    schema: kc
    name: dca_order_history
  object_relationships:
  - name: dca_order
    using:
      foreign_key_constraint_on: dca_order_uid
  - name: order
    using:
      foreign_key_constraint_on: order_uid
  - name: user
    using:
      foreign_key_constraint_on: user_uid
  select_permissions:
  - role: user
    permission:
      columns:
      - uid
      - created_at
      - updated_at
      - user_uid
      - dca_order_uid
      - order_uid
      - market_price
      - market_offset
      filter:
        user_uid:
          _eq: X-Hasura-User-Id
- table:
    schema: kc
    name: exchange
  array_relationships:
  - name: dca_orders
    using:
      foreign_key_constraint_on:
        column: exchange_uid
        table:
          schema: kc
          name: dca_order
  - name: orders
    using:
      foreign_key_constraint_on:
        column: exchange_uid
        table:
          schema: kc
          name: order
  - name: user_exchange_keys
    using:
      foreign_key_constraint_on:
        column: exchange_uid
        table:
          schema: kc
          name: user_exchange_keys
  select_permissions:
  - role: user
    permission:
      columns:
      - id
      - name
      - uid
      filter: {}
- table:
    schema: kc
    name: market
  array_relationships:
  - name: dca_orders
    using:
      foreign_key_constraint_on:
        column: market_uid
        table:
          schema: kc
          name: dca_order
  - name: market_prices
    using:
      foreign_key_constraint_on:
        column: market_uid
        table:
          schema: kc
          name: market_price
  select_permissions:
  - role: user
    permission:
      columns:
      - id
      - name
      - uid
      filter: {}
- table:
    schema: kc
    name: market_price
  object_relationships:
  - name: market
    using:
      foreign_key_constraint_on: market_uid
  select_permissions:
  - role: user
    permission:
      columns:
      - currency
      - fx_rate
      - price
      - price_nzd
      - timestamp
      filter: {}
- table:
    schema: kc
    name: order
  object_relationships:
  - name: exchange
    using:
      foreign_key_constraint_on: exchange_uid
  - name: user
    using:
      foreign_key_constraint_on: user_uid
  array_relationships:
  - name: dca_order_histories
    using:
      foreign_key_constraint_on:
        column: order_uid
        table:
          schema: kc
          name: dca_order_history
  select_permissions:
  - role: user
    permission:
      columns:
      - uid
      - created_at
      - updated_at
      - user_uid
      - exchange_uid
      - id
      - symbol
      - price
      - amount
      - type
      - opened_at
      - closed_at
      filter:
        user_uid:
          _eq: X-Hasura-User-Id
- table:
    schema: kc
    name: user
  array_relationships:
  - name: dca_order_histories
    using:
      foreign_key_constraint_on:
        column: user_uid
        table:
          schema: kc
          name: dca_order_history
  - name: dca_orders
    using:
      foreign_key_constraint_on:
        column: user_uid
        table:
          schema: kc
          name: dca_order
  - name: orders
    using:
      foreign_key_constraint_on:
        column: user_uid
        table:
          schema: kc
          name: order
  - name: user_exchange_keys
    using:
      foreign_key_constraint_on:
        column: user_uid
        table:
          schema: kc
          name: user_exchange_keys
  select_permissions:
  - role: user
    permission:
      columns:
      - created_at
      - uid
      - updated_at
      filter:
        uid:
          _eq: X-Hasura-User-Id
- table:
    schema: kc
    name: user_exchange_keys
  object_relationships:
  - name: exchange
    using:
      foreign_key_constraint_on: exchange_uid
  - name: user
    using:
      foreign_key_constraint_on: user_uid
  select_permissions:
  - role: user
    permission:
      columns:
      - description
      - exchange_uid
      - invalidated_at
      - uid
      - updated_at
      - user_uid
      filter:
        user_uid:
          _eq: X-Hasura-User-Id
